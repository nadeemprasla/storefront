(this.webpackJsonpstorefront_client=this.webpackJsonpstorefront_client||[]).push([[0],{122:function(e,a,t){},123:function(e,a,t){},124:function(e,a,t){"use strict";t.r(a);var n=t(20),r=t(21),i=t(24),l=t(22),o=t(25),s=t(0),c=t.n(s),u=t(7),m=t.n(u),d=t(30),p=t(18),h=t(15),E=t(4),g=t(125),b=t(179),f=t(158),O=t(181),v=t(160),w=t(59),j=t.n(w),S=function(e){return j.a.post("/api/auth",e)},y=function(e,a){return j.a.post("/api/users/register",e,a)},C=function(e){return j.a.post("/api/auth/login",e)},N=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:a,id:t}}},R=function(){return{type:"CLEAR_ERRORS"}},x=function(e){var a=e().auth.token,t={headers:{"Content-type":"application/json"}};return a&&(t.headers["x-auth-token"]=a),t},_=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(i.a)(this,Object(l.a)(a).call(this))).handleChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(h.a)({},n,r))},e.handleSubmit=function(a){a.preventDefault();var t={username:e.state.username,password:e.state.password};e.props.login(t)},e.state={username:null,password:null,errors:{username:"",password:""}},e}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props.error;a!==e.error&&"LOGIN"===a.id&&this.setState({errors:Object(p.a)({},e.errors,{username:a.msg.username,password:a.msg.password})})}},{key:"render",value:function(){var e=this.props.classes;return c.a.createElement(g.a,{className:e.root},c.a.createElement("div",{className:e.paper},c.a.createElement("form",{className:e.form,noValidate:!0},c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:this.handleChange}),c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:this.handleChange}),c.a.createElement(f.a,{control:c.a.createElement(O.a,{value:"remember",color:"primary"}),label:"Remember me"}),c.a.createElement(v.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:this.handleSubmit},"Sign In"))))}}]),a}(s.Component),k=Object(E.a)((function(e){return{root:{borderRadius:3,border:0,padding:"1vh 1vw",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",width:"35vw"},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,3)}}}))(_),I=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:function(e){var a=e.username,t=e.password;return function(e){C({username:a,password:t},{headers:{"Content-Type":"application/json"}}).then((function(a){return e({type:"LOGIN_SUCCESS",payload:a.data})})).catch((function(a){e(N(a.response.data,a.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},clearErrors:R})(k),L=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(i.a)(this,Object(l.a)(a).call(this))).handleChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(h.a)({},n,r))},e.handleSubmit=function(a){a.preventDefault();var t={firstName:e.state.firstName,lastName:e.state.lastName,username:e.state.username,email:e.state.email,password:e.state.password};e.props.register(t)},e.state={firstName:null,lastName:null,username:null,email:null,password:null,errors:{email:"",username:"",password:""}},e}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props.error;a!==e.error&&"REGISTER_FAIL"===a.id&&this.setState({errors:Object(p.a)({},e.errors,{email:a.msg.email,username:a.msg.username})})}},{key:"render",value:function(){var e=this.props.classes;return c.a.createElement(g.a,{className:e.root},c.a.createElement("div",{className:e.paper},c.a.createElement("form",{className:e.form,noValidate:!0},c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",onChange:this.handleChange}),c.a.createElement(b.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",onChange:this.handleChange}),c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:this.handleChange}),c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",onChange:this.handleChange}),c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:this.handleChange}),c.a.createElement(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirm-password",label:"Confirm Password",type:"password",id:"confirm-password",onChange:this.handleChange}),c.a.createElement(v.a,{onClick:this.handleSubmit,fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Register"))))}}]),a}(s.Component),A=Object(E.a)((function(e){return{root:{borderRadius:3,border:0,padding:"1vh 1vw",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",width:"35vw"},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,3)}}}))(L),D=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{register:function(e){var a=e.firstName,t=e.lastName,n=e.username,r=e.email,i=e.password;return function(e){y({firstName:a,lastName:t,username:n,email:r,password:i},{headers:{"Content-Type":"application/json"}}).then((function(a){return e({type:"REGISTER_SUCCESS",payload:a.data})})).catch((function(a){e(N(a.response.data,a.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},clearErrors:R})(A),T=t(82),G=t(161),U=t(43),F=Object(T.a)((function(e){return{root:{margin:"2vh",padding:"1vh 3vh"},button:{padding:e.spacing(2,10),backgroundColor:"#007bff","&:hover":{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},borderRadius:7,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .5)",color:"white"}}}));function W(){var e=F();return c.a.createElement("div",{className:e.root},c.a.createElement(G.a,{container:!0,spacing:3},c.a.createElement(G.a,{item:!0,xs:6},c.a.createElement(U.b,{to:"/register",style:{textDecoration:"none"}},c.a.createElement(v.a,{variant:"contained",className:e.button},"Register"))),c.a.createElement(G.a,{item:!0,xs:6},c.a.createElement(U.b,{to:"/login",style:{textDecoration:"none"}},c.a.createElement(v.a,{variant:"contained",className:e.button},"Login")))))}t(122);var B=t(39),z=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(i.a)(this,Object(l.a)(a).call(this))).state={username:"",password:""},e}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement(U.a,null,c.a.createElement(G.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{backgroundColor:"rgba(0, 0, 0,.9)"}},c.a.createElement(W,null),c.a.createElement(B.c,null,c.a.createElement(B.a,{path:"/login",component:I}),c.a.createElement(B.a,{path:"/register",component:D}),c.a.createElement(B.a,{path:"*",component:I}))))}}]),a}(s.Component),q=t(86),M=t(178),X=t(3),V=t(23),P=t(170),H=t(171),J=t(159),K=t(55),Q=t(182),Y=t(175),Z=t(157),$=t(126),ee=t(164),ae=t(166),te=t(168),ne=t(169),re=t(172),ie=t(173),le=t(174),oe=t(176),se=t(177),ce=t(85),ue=t(162),me=t(163),de=t(165),pe=t(167),he=Object(E.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return c.a.createElement(ce.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Ee=Object(E.a)((function(e){return{root:{"&:hover":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(ue.a),ge=function(e){function a(){var e;return Object(n.a)(this,a),(e=Object(i.a)(this,Object(l.a)(a).call(this))).handleClick=function(a){e.setState({anchorEl:a.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e.state={anchorEl:null},e}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(v.a,{"aria-controls":"customized-menu","aria-haspopup":"true",variant:"contained",color:"primary",onClick:this.handleClick},c.a.createElement(me.a,{style:{marginRight:10}}),"Account"),c.a.createElement(he,{id:"customized-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose},c.a.createElement(Ee,null,c.a.createElement(ee.a,null,c.a.createElement(de.a,{fontSize:"small"})),c.a.createElement(ae.a,{primary:"Setting"})),c.a.createElement(Ee,{onClick:this.props.logout},c.a.createElement(ee.a,null,c.a.createElement(pe.a,{fontSize:"small"})),c.a.createElement(ae.a,{primary:"Logout"}))))}}]),a}(s.Component),be=Object(d.b)(null,{logout:function(){return{type:"LOGOUT_SUCCESS"}}})(ge),fe=Object(T.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(h.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}})),Oe=function(e){switch(e.text){case"Dashboard":return c.a.createElement(te.a,null);case"Store":return c.a.createElement(ne.a,null);default:return null}};function ve(e){var a,t,n=fe(),r=Object(V.a)(),i=e.open,l=e.handleDrawerClose,o=e.handleDrawerOpen;return c.a.createElement(s.Fragment,null,c.a.createElement(P.a,{position:"fixed",className:Object(X.a)(n.appBar,Object(h.a)({},n.appBarShift,i))},c.a.createElement(H.a,null,c.a.createElement(J.a,{color:"inherit","aria-label":"open drawer",onClick:o,edge:"start",className:Object(X.a)(n.menuButton,Object(h.a)({},n.hide,i))},c.a.createElement(re.a,null)),c.a.createElement(K.a,{className:n.title,variant:"h6",noWrap:!0},"Store Front"),c.a.createElement(be,null))),c.a.createElement(Q.a,{variant:"permanent",className:Object(X.a)(n.drawer,(a={},Object(h.a)(a,n.drawerOpen,i),Object(h.a)(a,n.drawerClose,!i),a)),classes:{paper:Object(X.a)((t={},Object(h.a)(t,n.drawerOpen,i),Object(h.a)(t,n.drawerClose,!i),t))}},c.a.createElement("div",{className:n.toolbar},c.a.createElement(J.a,{onClick:l},"rtl"===r.direction?c.a.createElement(ie.a,null):c.a.createElement(le.a,null))),c.a.createElement(Y.a,null),c.a.createElement(Z.a,null,["Dashboard","Store","Send email","Drafts"].map((function(e,a){return c.a.createElement($.a,{button:!0,key:e},c.a.createElement(ee.a,null,c.a.createElement(Oe,{text:e})),c.a.createElement(ae.a,{primary:e}))}))),c.a.createElement(Y.a,null),c.a.createElement(Z.a,null,["All mail","Trash","Spam"].map((function(e,a){return c.a.createElement($.a,{button:!0,key:e},c.a.createElement(ee.a,null,a%2===0?c.a.createElement(oe.a,null):c.a.createElement(se.a,null)),c.a.createElement(ae.a,{primary:e}))})))))}var we=Object(T.a)((function(e){return{root:{display:"flex"},toolbar:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function je(){var e=we(),a=c.a.useState(!1),t=Object(q.a)(a,2),n=t[0],r=t[1];return c.a.createElement(U.a,null,c.a.createElement("div",{className:e.root},c.a.createElement(M.a,null),c.a.createElement(ve,{open:n,setOpen:r,handleDrawerOpen:function(){r(!0)},handleDrawerClose:function(){r(!1)}}),c.a.createElement("main",{className:e.content},c.a.createElement("div",{className:e.toolbar}),"Main")))}var Se=function(e){function a(){return Object(n.a)(this,a),Object(i.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){var e=this.props.auth,a=e.isAuthenticated;e.user;return c.a.createElement(s.Fragment,null,a?c.a.createElement(je,null):c.a.createElement(z,null))}}]),a}(s.Component),ye=Object(d.b)((function(e){return{auth:e.auth}}),null)(Se),Ce=(t(123),t(37)),Ne=t(84),Re={msg:{},status:null,id:null},xe={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null},_e=Object(Ce.c)({error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_ERRORS":return{msg:a.payload.msg,status:a.payload.status,id:a.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_LOADING":return Object(p.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(p.a)({},e,{isAuthenticated:!0,isLoading:!1,user:a.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",a.payload.token),Object(p.a)({},e,{},a.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"REGISTER_FAIL":case"LOGOUT_SUCCESS":return localStorage.removeItem("token"),Object(p.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}}),ke=[Ne.a],Ie=Object(Ce.e)(_e,{},Object(Ce.d)(Ce.a.apply(void 0,ke),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Le=function(e){function a(){return Object(n.a)(this,a),Object(i.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){Ie.dispatch((function(e,a){e({type:"USER_LOADING"}),S(x(a)).then((function(a){e({type:"USER_LOADED",payload:a.data})})).catch((function(a){console.log(a),e(N(a.response.data,a.response.status)),e({type:"AUTH_ERROR"})}))}))}},{key:"render",value:function(){return c.a.createElement(d.a,{store:Ie},c.a.createElement(ye,null))}}]),a}(s.Component);m.a.render(c.a.createElement(Le,null),document.getElementById("root"))},95:function(e,a,t){e.exports=t(124)}},[[95,1,2]]]);
//# sourceMappingURL=main.e7067406.chunk.js.map